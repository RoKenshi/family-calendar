<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–°–µ–º–µ–π–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- FullCalendar -->
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>

  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <style>
    /* Telegram 2025 flat style */
    body {
      font-family: Arial, sans-serif;
      background-color: #FFFFFF; /* —Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞ */
      margin: 0;
      padding: 0;
    }
    .dark body {
      background-color: #7661C2; /* —Ç–µ–º–Ω–∞—è —Ç–µ–º–∞ */
    }
    #calendar {
      background-color: #FFFFFF; /* –ø–ª–∏—Ç–∫–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä—è */
      color: #000000;
      border: 1px solid #24A1DE;
      width: 100%;
      max-width: 720px;
      margin: auto;
    }
    .fc-event {
      border: 1px solid #0088CC !important;
      background-color: #0088CC !important;
      color: #FFFFFF !important;
      border-radius: 0 !important;
      font-weight: 500;
      padding: 2px 4px !important;
    }
    button {
      border: none;
      font-weight: 600;
    }
  </style>
</head>
<body class="flex flex-col items-center p-2">

  <header class="w-full max-w-3xl flex justify-between items-center mb-2 p-2">
    <h1 class="text-2xl font-bold text-[#0088CC]">–°–µ–º–µ–π–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å</h1>
  </header>

  <!-- –ö–∞–ª–µ–Ω–¥–∞—Ä—å -->
  <div id="calendar" class="mb-2"></div>

  <!-- –ü–∞–Ω–µ–ª—å –∫–Ω–æ–ø–æ–∫ -->
  <div class="w-full max-w-3xl flex justify-between">
    <button id="add-event" class="flex-1 mr-1 bg-[#24A1DE] hover:bg-[#0088CC] text-white py-2 px-4">
      –î–æ–±–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ
    </button>
    <button id="toggle-dark" class="flex-1 ml-1 bg-[#A19679] hover:bg-[#7661C2] text-white py-2 px-4">
      üåô –¢—ë–º–Ω–∞—è —Ç–µ–º–∞
    </button>
  </div>

  <script>
    const tg = window.Telegram.WebApp;
    tg.ready();

    const calendarEl = document.getElementById('calendar');
    const calendar = new FullCalendar.Calendar(calendarEl, {
      initialView: 'dayGridMonth',
      locale: 'ru',
      selectable: true,
      events: [],
      height: "auto",
      headerToolbar: {
        left: 'prev,next today',
        center: 'title',
        right: 'dayGridMonth,timeGridWeek,timeGridDay'
      }
    });
    calendar.render();

    document.getElementById('add-event').onclick = () => {
      const title = prompt('–ù–∞–∑–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è:');
      if (!title) return;

      const dateStr = prompt('–î–∞—Ç–∞ —Å–æ–±—ã—Ç–∏—è (YYYY-MM-DD):');
      if (!dateStr) return;

      const event = { 
        title, 
        start: dateStr, 
        backgroundColor: '#0088CC', 
        borderColor: '#0088CC', 
        textColor: 'white' 
      };
      calendar.addEvent(event);
    };

    document.getElementById('toggle-dark').onclick = () => {
      document.body.classList.toggle('dark');
    };
  </script>
</body>
</html>
