<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Семейный календарь</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- FullCalendar -->
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>

  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col items-center p-4">

  <h1 class="text-3xl font-bold text-gray-800 mb-4">Семейный календарь</h1>

  <div id="calendar" class="bg-white rounded-2xl shadow-lg p-4 w-full max-w-3xl"></div>

  <button id="add-event" class="mt-4 bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-6 rounded-xl shadow-md transition duration-300">
    Добавить событие
  </button>

  <script>
    const tg = window.Telegram.WebApp;
    tg.ready();

    // Инициализация календаря
    const calendarEl = document.getElementById('calendar');
    const calendar = new FullCalendar.Calendar(calendarEl, {
      initialView: 'dayGridMonth',
      locale: 'ru',
      selectable: true,
      events: [],
      height: "auto",
      headerToolbar: {
        left: 'prev,next today',
        center: 'title',
        right: 'dayGridMonth,timeGridWeek,timeGridDay'
      }
    });
    calendar.render();

    // Добавление события
    document.getElementById('add-event').onclick = () => {
      const title = prompt('Название события:');
      if (!title) return;

      const dateStr = prompt('Дата события (YYYY-MM-DD):');
      if (!dateStr) return;

      const event = { title, start: dateStr, backgroundColor: '#3b82f6', borderColor: '#2563eb', textColor: 'white' };
      calendar.addEvent(event);

      alert('Событие добавлено: ' + title + ' на ' + dateStr);
    };
  </script>
</body>
</html>
