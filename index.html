<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–°–µ–º–µ–π–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- FullCalendar -->
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>

  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <style>
    /* –¢–µ–º–Ω–∞—è —Ç–µ–º–∞ Telegram */
    body { background-color: #e5e5e5; }
    .fc-toolbar-title { font-weight: 600; }
    .fc-event { border-radius: 12px !important; font-weight: 500; }
  </style>
</head>
<body class="min-h-screen flex flex-col items-center p-4 font-sans">

  <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
  <header class="w-full max-w-3xl mb-4 flex justify-between items-center">
    <h1 class="text-2xl font-bold text-gray-800 dark:text-white">–°–µ–º–µ–π–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å</h1>
  </header>

  <!-- –ö–∞–ª–µ–Ω–¥–∞—Ä—å -->
  <div id="calendar" class="bg-white dark:bg-gray-700 rounded-2xl shadow-md w-full max-w-3xl p-4"></div>

  <!-- –ü–∞–Ω–µ–ª—å –∫–Ω–æ–ø–æ–∫ -->
  <div class="w-full max-w-3xl flex justify-between mt-4">
    <button id="add-event" class="flex-1 mr-2 bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-xl shadow transition duration-200">
      –î–æ–±–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ
    </button>
    <button id="toggle-dark" class="flex-1 ml-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-800 dark:text-white font-semibold py-2 px-4 rounded-xl shadow transition duration-200">
      üåô –¢—ë–º–Ω–∞—è —Ç–µ–º–∞
    </button>
  </div>

  <script>
    const tg = window.Telegram.WebApp;
    tg.ready();

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è
    const calendarEl = document.getElementById('calendar');
    const calendar = new FullCalendar.Calendar(calendarEl, {
      initialView: 'dayGridMonth',
      locale: 'ru',
      selectable: true,
      events: [],
      height: "auto",
      headerToolbar: {
        left: 'prev,next today',
        center: 'title',
        right: 'dayGridMonth,timeGridWeek,timeGridDay'
      }
    });
    calendar.render();

    // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
    document.getElementById('add-event').onclick = () => {
      const title = prompt('–ù–∞–∑–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è:');
      if (!title) return;

      const dateStr = prompt('–î–∞—Ç–∞ —Å–æ–±—ã—Ç–∏—è (YYYY-MM-DD):');
      if (!dateStr) return;

      const event = { 
        title, 
        start: dateStr, 
        backgroundColor: '#0088cc', 
        borderColor: '#006699', 
        textColor: 'white' 
      };
      calendar.addEvent(event);
    };

    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç—ë–º–Ω–æ–π —Ç–µ–º—ã
    const toggleBtn = document.getElementById('toggle-dark');
    toggleBtn.onclick = () => {
      document.body.classList.toggle('dark');
      document.getElementById('calendar').classList.toggle('dark:bg-gray-700');
    };
  </script>

</body>
</html>
